import flask
import requests
import json
import os
from dotenv import load_dotenv, find_dotenv

load_dotenv(find_dotenv())

app = flask.Flask(__name__)

def get_movie_info():
    TMDB_BASE_URL = "https://api.themoviedb.org/3"
    TMDB_MOVIE_PATH = "/movie/634649"

    movie_response = requests.get(
        TMDB_BASE_URL + TMDB_MOVIE_PATH,
        params={
        "api_key": os.getenv("TMDB_API_KEY"),
        },
    )

    movie_info = movie_response.json()
    movie_genres = movie_response.json()["genres"]

    print(movie_info["title"])
    print(movie_info["tagline"])

    for i in range(3):
        print(movie_genres[i]["name"])
        
    print(movie_info["poster_path"])

get_movie_info()


    
